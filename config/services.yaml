parameters:
    documents_directory: '%kernel.project_dir%/public/uploads/documents'
    #logos_directory: '%kernel.project_dir%/public/uploads/logos'
    documents_path: '%kernel.project_dir%/var/documents'
    app.docs_directory: '%env(resolve:UPLOAD_DIR)%'

    gmail_credentials_path: '%kernel.project_dir%/config/google/credentials.json'
    gmail_token_path: '%kernel.project_dir%/config/google/token.json'

services:
    _defaults:
        autowire: true
        autoconfigure: true
    

    App\:
        resource: '../src/'
        exclude:
            - '../src/DependencyInjection/'
            - '../src/Kernel.php'

    # Services avec arguments sp√©cifiques
    App\Service\InseeApiService:
        arguments:
            $inseeApiKey: '%env(INSEE_API_KEY)%'

    App\Service\GoogleCalendarService:
        arguments:
            $credentialsPath: '%gmail_credentials_path%'
            $tokenPath: '%gmail_token_path%'

    App\Service\GmailService:
        arguments:
            $credentialsPath: '%gmail_credentials_path%'
            $tokenPath: '%gmail_token_path%'

    App\Service\RagTestService:
        arguments:
            $docsDirectory: '%app.docs_directory%'  
            $openAiApiKey: '%env(OPENAI_API_KEY)%'


    App\Schedule\GmailSchedule:
        tags: ['schedule.provider']
